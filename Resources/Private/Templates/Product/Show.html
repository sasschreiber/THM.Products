<f:layout name="Default" />

<f:section name="Title">Product: {product.title}</f:section>

<f:section name="Content">

    <br>
    <f:if condition="{product.properties}">
        <f:then>
            <h4>Properties:</h4>
            <ul>
                <f:for each="{product.properties}" as="property">
                    <li><strong>{property.name}</strong>: {property.content}</li>
                </f:for>
            </ul>
        </f:then>
        <f:else>
            <h4>Properties:</h4>
            <p> Sorry, there are no properties to show.</p>
        </f:else>
    </f:if>
    <div class="row">

    <f:render partial="Product/AddProperty" arguments="{product : product}"/>

    </div>

    <br>

    <f:if condition="{product.children}">
        <h4>Children of {product.title}</h4>
        <f:render partial="Product/List" arguments="{products : product.children}" />
        <br>
    </f:if>
    <f:if condition="{product.parent}">
        <f:link.action class="btn btn-default btn-md" action="show" arguments="{product : product.parent}">
            <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
            Show parent product
        </f:link.action>
    </f:if>
    <f:link.action class="btn btn-default btn-md" action="new" arguments="{parent : product}">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        Create new child product
    </f:link.action>
    <f:link.action class="btn btn-default btn-md" action="list">
        <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
        Show top level list
    </f:link.action>
</f:section>